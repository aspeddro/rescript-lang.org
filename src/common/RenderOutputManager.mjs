// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Caml_option from "rescript/lib/es6/caml_option.js";
import RemoveImportsAndExports from "../ffi/removeImportsAndExports";

function transpile(prim) {
  return RemoveImportsAndExports(prim);
}

function run(code) {
  return "(function () {\n  " + RemoveImportsAndExports(code) + "\n  const root = document.getElementById(\"root\");\n  ReactDOM.render(App.make(), root);\n})();";
}

var Transpiler = {
  transpile: transpile,
  run: run
};

function sendOutput(code) {
  var frame = document.getElementById("iframe-eval");
  if (frame == null) {
    return ;
  }
  var win = frame.contentWindow;
  if (win !== undefined) {
    Caml_option.valFromOption(win).postMessage(code, "*");
    return ;
  }
  
}

var Frame = {
  srcdoc: "\n    <html>\n      <head>\n        <meta charset=\"UTF-8\" />\n        <title>Playground Output</title>\n      </head>\n      <body>\n        <div id=\"root\"></div>\n        <script\n          src=\"https://unpkg.com/react@17/umd/react.production.min.js\"\n          crossorigin\n        ></script>\n        <script\n          src=\"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js\"\n          crossorigin\n        ></script>\n        <script\n          src=\"https://bundleplayground.s3.sa-east-1.amazonaws.com/bundle.js\"\n          crossorigin\n        ></script>\n        <script>\n          window.addEventListener(\"message\", (event) => {\n            try {\n              eval(event.data);\n            } catch (err) {\n              console.log(err);\n            }\n          });\n        </script>\n      </body>\n    </html>\n  ",
  sendOutput: sendOutput
};

function renderOutput(code) {
  if (code !== undefined) {
    return sendOutput(run(code));
  }
  
}

export {
  Transpiler ,
  Frame ,
  renderOutput ,
}
/* ../ffi/removeImportsAndExports Not a pure module */
