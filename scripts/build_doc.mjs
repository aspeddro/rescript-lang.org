// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Fs from "fs";
import * as Path from "path";
import * as Docgen from "./docgen.mjs";
import * as Process from "process";
import * as Child_process from "child_process";

var args = Process.argv;

var argsLen = args.length;

var analysisExePath = args[argsLen - 2 | 0];

var compiler_path = args[argsLen - 1 | 0];

var libPath = Path.join(compiler_path, "lib", "ocaml");

var entryPointLibs = [
  "js.ml",
  "belt.res",
  "dom.res"
];

var docs = entryPointLibs.map(function (libFile) {
      var entryPointFile = Path.join(libPath, libFile);
      var output = Child_process.execSync("" + analysisExePath + " extractDocs " + entryPointFile + "", {}).toString().trim();
      Fs.writeFileSync("data/api_" + libFile + ".json", output, "utf8");
      return Docgen.decodeFromJson(JSON.parse(output));
    });

export {
  args ,
  argsLen ,
  analysisExePath ,
  compiler_path ,
  libPath ,
  entryPointLibs ,
  docs ,
}
/* args Not a pure module */
